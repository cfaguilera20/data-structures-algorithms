<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Stylesheets</title>
        <link
            id="linkElement"
            rel="stylesheet"
            type="text/css"
            href="http://yui.yahooapis.com/3.3.0/build/cssreset/reset-min.css"
        />
        <style id="styleElement">
            body {
                background-color: #ffffff;
                margin: 20px;
            }
            p {
                color: red;
            }
        </style>
    </head>
    <body>
        <p>Open your developer tools...</p>
        <a href="" class="btn btn-primary m-5">Button</a>
        <script>
            console.log(
                'linkElement.constructor',
                document.querySelector('#linkElement').constructor
            );
            console.log(
                'styleElement.constructor',
                document.querySelector('#styleElement').constructor
            );
            console.log(
                'sheet.constructor',
                document.querySelector('#styleElement').sheet.constructor
            );
            console.log(
                'sheet.cssRules[].constructor',
                document.querySelector('#styleElement').sheet.cssRules[0]
                    .constructor
            );

            // Accesing all
            console.log(
                'document.styleSheets.length',
                document.styleSheets.length
            );
            console.log('document.styleSheets[0]', document.styleSheets[0]);
            // document.querySelector('#linkElement').sheet

            console.log('document.styleSheets[1]', document.styleSheets[1]);
            // document.querySelector('#styleElement').sheet

            // Properties
            const styleSheet = document.querySelector('#styleElement').sheet;
            console.log('styleSheet.keys', Object.keys(styleSheet).sort());

            const styleSheetPropertiesIncludeInherited = [];
            for (let p in styleSheet) {
                styleSheetPropertiesIncludeInherited.push(p);
            }
            console.log(styleSheetPropertiesIncludeInherited.sort());

            const styleSheetPropertiesOnlyInherited = [];
            for (let p in styleSheet) {
                if (!styleSheet.hasOwnProperty(p))
                    styleSheetPropertiesOnlyInherited.push(p);
            }
            console.log(styleSheetPropertiesOnlyInherited.sort());

            // CSSStyleRule Overview
            const sSheet = document.querySelector('#styleElement').sheet;
            console.log(sSheet.cssRules[0].cssText);
            const sSheetRule = sSheet.cssRules;
            console.log(Object.keys(sSheetRule).sort());

            // Insert rule
            sSheet.insertRule('p{color: red}', 1);
            sSheet.deleteRule(1);

            // Modify rule
            sSheet.cssRules[1].style.color = 'blue';

            // Creating a new inline css style
            const styleElem = document.createElement('style');
            styleElem.innerHTML = 'body{ background-color: whitesmoke;}';
            document.querySelector('head').appendChild(styleElem);

            // Programmatically adding external stylesheets to an HTML Doc.
            const linkElem = document.createElement('link');
            linkElem.setAttribute('rel', 'stylesheet');
            linkElem.setAttribute('type', 'text/css');
            linkElem.setAttribute('id', 'linkElemProgramm');
            linkElem.setAttribute(
                'href',
                'https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.3/css/bootstrap.min.css'
            );
            document.querySelector('head').appendChild(linkElem);

            // Disable link or style
            document.createElement('linkElement').disabled = true;
            document.querySelector('#styleElement').disabled = true;

        </script>
    </body>
</html>
